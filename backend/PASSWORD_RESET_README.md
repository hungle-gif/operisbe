# üîê Password Reset & Forgot Password Documentation

T√†i li·ªáu chi ti·∫øt v·ªÅ t√≠nh nƒÉng Qu√™n m·∫≠t kh·∫©u, ƒê·ªïi m·∫≠t kh·∫©u v√† X√°c th·ª±c Email s·ª≠ d·ª•ng Gmail SMTP.

---

## üìã M·ª•c l·ª•c

1. [T·ªïng quan](#t·ªïng-quan)
2. [Ki·∫øn tr√∫c h·ªá th·ªëng](#ki·∫øn-tr√∫c-h·ªá-th·ªëng)
3. [C·∫•u h√¨nh](#c·∫•u-h√¨nh)
4. [Lu·ªìng ho·∫°t ƒë·ªông](#lu·ªìng-ho·∫°t-ƒë·ªông)
5. [API Endpoints](#api-endpoints)
6. [Database Schema](#database-schema)
7. [Email Templates](#email-templates)
8. [B·∫£o m·∫≠t](#b·∫£o-m·∫≠t)
9. [Testing](#testing)
10. [Troubleshooting](#troubleshooting)

---

## üéØ T·ªïng quan

H·ªá th·ªëng Password Reset cung c·∫•p c√°c t√≠nh nƒÉng:

‚úÖ **Forgot Password** - Y√™u c·∫ßu ƒë·∫∑t l·∫°i m·∫≠t kh·∫©u qua email
‚úÖ **Reset Password** - ƒê·∫∑t l·∫°i m·∫≠t kh·∫©u v·ªõi token h·ª£p l·ªá
‚úÖ **Change Password** - ƒê·ªïi m·∫≠t kh·∫©u cho user ƒë√£ ƒëƒÉng nh·∫≠p
‚úÖ **Email Verification** - G·ª≠i email x√°c th·ª±c qua Gmail SMTP
‚úÖ **Token Security** - Token b·∫£o m·∫≠t v·ªõi th·ªùi gian h·∫øt h·∫°n
‚úÖ **Beautiful Email Templates** - Email HTML responsive ƒë·∫πp m·∫Øt

---

## üèóÔ∏è Ki·∫øn tr√∫c h·ªá th·ªëng

### Components

```
üìÅ backend/
‚îú‚îÄ‚îÄ üìÅ apps/users/
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ models/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.py                          # User model
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ password_reset_token.py          # Token model (NEW)
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth_service.py                  # Authentication logic
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ password_reset_service.py        # Password reset logic (NEW)
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ schemas/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user_schema.py                   # User schemas
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ password_reset_schema.py         # Password reset schemas (NEW)
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ routers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth_router.py                   # Auth endpoints
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ password_reset_router.py         # Password reset endpoints (NEW)
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ templates/emails/
‚îÇ       ‚îú‚îÄ‚îÄ password_reset.html              # Reset email template (NEW)
‚îÇ       ‚îî‚îÄ‚îÄ password_changed.html            # Confirmation email (NEW)
‚îú‚îÄ‚îÄ üìÅ config/settings/
‚îÇ   ‚îî‚îÄ‚îÄ base.py                              # Email & settings config (UPDATED)
‚îî‚îÄ‚îÄ .env.example                              # Environment variables (UPDATED)
```

### Database Models

```python
# PasswordResetToken Model
- id: UUID (Primary Key)
- user: ForeignKey(User)
- token: CharField(100) - Unique, Indexed
- expires_at: DateTimeField
- used_at: DateTimeField (nullable)
- ip_address: GenericIPAddressField (nullable)
- user_agent: CharField(500) (nullable)
- created_at: DateTimeField (auto)
- updated_at: DateTimeField (auto)
```

---

## ‚öôÔ∏è C·∫•u h√¨nh

### 1. Email Settings (Gmail SMTP)

Th√™m v√†o file `.env`:

```env
# Email Settings (Gmail SMTP)
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-password-here
DEFAULT_FROM_EMAIL=noreply@operis.vn

# Frontend URL (for reset password links)
FRONTEND_URL=http://localhost:3000
```

### 2. T·∫°o App Password cho Gmail

**B∆∞·ªõc 1:** ƒêƒÉng nh·∫≠p v√†o t√†i kho·∫£n Google
**B∆∞·ªõc 2:** Truy c·∫≠p [https://myaccount.google.com/security](https://myaccount.google.com/security)
**B∆∞·ªõc 3:** B·∫≠t **2-Step Verification** (b·∫Øt bu·ªôc)
**B∆∞·ªõc 4:** Truy c·∫≠p **App Passwords**: [https://myaccount.google.com/apppasswords](https://myaccount.google.com/apppasswords)
**B∆∞·ªõc 5:** Ch·ªçn **Mail** v√† **Other (Custom name)**
**B∆∞·ªõc 6:** ƒê·∫∑t t√™n: "Operis Backend"
**B∆∞·ªõc 7:** Copy **App Password** (16 k√Ω t·ª±) v√† paste v√†o `EMAIL_HOST_PASSWORD`

‚ö†Ô∏è **L∆∞u √Ω:** Kh√¥ng s·ª≠ d·ª•ng password Gmail th∆∞·ªùng, ph·∫£i d√πng App Password!

### 3. Settings Configuration

File `config/settings/base.py` ƒë√£ ƒë∆∞·ª£c c·∫•u h√¨nh:

```python
# Email Settings
EMAIL_BACKEND = config('EMAIL_BACKEND', default='django.core.mail.backends.smtp.EmailBackend')
EMAIL_HOST = config('EMAIL_HOST', default='smtp.gmail.com')
EMAIL_PORT = config('EMAIL_PORT', default=587, cast=int)
EMAIL_USE_TLS = config('EMAIL_USE_TLS', default=True, cast=bool)
EMAIL_HOST_USER = config('EMAIL_HOST_USER', default='')
EMAIL_HOST_PASSWORD = config('EMAIL_HOST_PASSWORD', default='')
DEFAULT_FROM_EMAIL = config('DEFAULT_FROM_EMAIL', default='noreply@operis.vn')
SERVER_EMAIL = DEFAULT_FROM_EMAIL

# Password Reset Settings
PASSWORD_RESET_TIMEOUT = 60 * 30  # 30 minutes
FRONTEND_URL = config('FRONTEND_URL', default='http://localhost:3000')
```

### 4. Development Mode (Console Email)

ƒê·ªÉ test kh√¥ng c·∫ßn Gmail, d√πng console backend:

```env
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
```

Email s·∫Ω hi·ªÉn th·ªã trong terminal thay v√¨ g·ª≠i th·∫≠t.

---

## üîÑ Lu·ªìng ho·∫°t ƒë·ªông

### Flow 1: Forgot Password (Qu√™n m·∫≠t kh·∫©u)

```mermaid
sequenceDiagram
    participant U as User
    participant F as Frontend
    participant API as Backend API
    participant DB as Database
    participant Email as Gmail SMTP

    U->>F: 1. Nh·∫≠p email v√†o form "Forgot Password"
    F->>API: 2. POST /password-reset/forgot-password {email}
    API->>DB: 3. T√¨m user theo email

    alt User t·ªìn t·∫°i & active
        API->>DB: 4. T·∫°o PasswordResetToken m·ªõi
        API->>DB: 5. V√¥ hi·ªáu h√≥a tokens c≈©
        API->>Email: 6. G·ª≠i email v·ªõi reset link
        Email-->>U: 7. Email ch·ª©a reset link + token
    end

    API-->>F: 8. Success (lu√¥n tr·∫£ v·ªÅ success, kh√¥ng ti·∫øt l·ªô email t·ªìn t·∫°i hay kh√¥ng)
    F-->>U: 9. Hi·ªÉn th·ªã "Email ƒë√£ ƒë∆∞·ª£c g·ª≠i n·∫øu t√†i kho·∫£n t·ªìn t·∫°i"
```

### Flow 2: Reset Password (ƒê·∫∑t l·∫°i m·∫≠t kh·∫©u)

```mermaid
sequenceDiagram
    participant U as User
    participant F as Frontend
    participant API as Backend API
    participant DB as Database
    participant Email as Gmail SMTP

    U->>U: 1. Click v√†o link trong email
    U->>F: 2. M·ªü trang reset password v·ªõi ?token=xxx
    F->>API: 3. POST /password-reset/verify-reset-token {token}
    API->>DB: 4. Ki·ªÉm tra token h·ª£p l·ªá

    alt Token h·ª£p l·ªá
        API-->>F: 5. Token valid, email info
        F-->>U: 6. Hi·ªÉn th·ªã form nh·∫≠p m·∫≠t kh·∫©u m·ªõi
        U->>F: 7. Nh·∫≠p m·∫≠t kh·∫©u m·ªõi + x√°c nh·∫≠n
        F->>API: 8. POST /password-reset/reset-password {token, new_password}
        API->>DB: 9. C·∫≠p nh·∫≠t password
        API->>DB: 10. ƒê√°nh d·∫•u token ƒë√£ s·ª≠ d·ª•ng
        API->>DB: 11. V√¥ hi·ªáu h√≥a c√°c tokens kh√°c
        API->>Email: 12. G·ª≠i email x√°c nh·∫≠n
        Email-->>U: 13. Email "M·∫≠t kh·∫©u ƒë√£ thay ƒë·ªïi"
        API-->>F: 14. Success
        F-->>U: 15. Redirect t·ªõi login
    else Token kh√¥ng h·ª£p l·ªá
        API-->>F: Error: Invalid/Expired/Used token
        F-->>U: Hi·ªÉn th·ªã l·ªói
    end
```

### Flow 3: Change Password (ƒê·ªïi m·∫≠t kh·∫©u - User ƒë√£ login)

```mermaid
sequenceDiagram
    participant U as User
    participant F as Frontend
    participant API as Backend API
    participant DB as Database
    participant Email as Gmail SMTP

    U->>F: 1. V√†o trang "ƒê·ªïi m·∫≠t kh·∫©u" (ƒë√£ ƒëƒÉng nh·∫≠p)
    U->>F: 2. Nh·∫≠p: m·∫≠t kh·∫©u c≈© + m·∫≠t kh·∫©u m·ªõi
    F->>API: 3. POST /password-reset/change-password {old_password, new_password}
    Note over F,API: Header: Authorization: Bearer {token}
    API->>API: 4. X√°c th·ª±c user t·ª´ token
    API->>DB: 5. Ki·ªÉm tra m·∫≠t kh·∫©u c≈©

    alt M·∫≠t kh·∫©u c≈© ƒë√∫ng
        API->>DB: 6. C·∫≠p nh·∫≠t password m·ªõi
        API->>Email: 7. G·ª≠i email x√°c nh·∫≠n
        Email-->>U: 8. Email "M·∫≠t kh·∫©u ƒë√£ thay ƒë·ªïi"
        API-->>F: 9. Success
        F-->>U: 10. Hi·ªÉn th·ªã th√¥ng b√°o th√†nh c√¥ng
    else M·∫≠t kh·∫©u c≈© sai
        API-->>F: Error: Current password incorrect
        F-->>U: Hi·ªÉn th·ªã l·ªói
    end
```

---

## üåê API Endpoints

### Base URL
```
http://localhost:8000/api/password-reset
```

---

### 1. **POST** `/forgot-password`

Y√™u c·∫ßu ƒë·∫∑t l·∫°i m·∫≠t kh·∫©u qua email.

**Request:**
```json
{
  "email": "user@example.com"
}
```

**Response:** (200 OK)
```json
{
  "success": true,
  "message": "If the email exists, a password reset link has been sent"
}
```

**L∆∞u √Ω:** Lu√¥n tr·∫£ v·ªÅ success (b·∫£o m·∫≠t - kh√¥ng ti·∫øt l·ªô email c√≥ t·ªìn t·∫°i hay kh√¥ng)

---

### 2. **POST** `/verify-reset-token`

Ki·ªÉm tra token reset c√≥ h·ª£p l·ªá kh√¥ng.

**Request:**
```json
{
  "token": "abcdef123456..."
}
```

**Response:** (200 OK)
```json
{
  "valid": true,
  "message": "Token is valid",
  "email": "user@example.com",
  "expires_in_minutes": 25
}
```

**Error Response:** (400 Bad Request)
```json
{
  "detail": "Invalid or expired reset token"
}
```

---

### 3. **POST** `/reset-password`

ƒê·∫∑t l·∫°i m·∫≠t kh·∫©u v·ªõi token h·ª£p l·ªá.

**Request:**
```json
{
  "token": "abcdef123456...",
  "new_password": "NewPass123",
  "confirm_password": "NewPass123"
}
```

**Password Requirements:**
- T·ªëi thi·ªÉu 8 k√Ω t·ª±
- √çt nh·∫•t 1 ch·ªØ c√°i
- √çt nh·∫•t 1 s·ªë

**Response:** (200 OK)
```json
{
  "success": true,
  "message": "Password has been reset successfully"
}
```

**Error Responses:**
- Token invalid/expired/used: `400 Bad Request`
- Password too weak: `422 Unprocessable Entity`
- Passwords don't match: `422 Unprocessable Entity`

---

### 4. **POST** `/change-password` üîí

ƒê·ªïi m·∫≠t kh·∫©u cho user ƒë√£ ƒëƒÉng nh·∫≠p.

**Authentication Required:** Bearer Token

**Headers:**
```
Authorization: Bearer <access_token>
```

**Request:**
```json
{
  "old_password": "OldPass123",
  "new_password": "NewPass456",
  "confirm_password": "NewPass456"
}
```

**Response:** (200 OK)
```json
{
  "success": true,
  "message": "Password has been changed successfully"
}
```

**Error Responses:**
- Unauthorized: `401 Unauthorized`
- Wrong old password: `400 Bad Request`
- Passwords don't match: `422 Unprocessable Entity`

---

## üíæ Database Schema

### PasswordResetToken Model

```sql
CREATE TABLE password_reset_tokens (
    id UUID PRIMARY KEY,
    user_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
    token VARCHAR(100) UNIQUE NOT NULL,
    expires_at TIMESTAMP NOT NULL,
    used_at TIMESTAMP NULL,
    ip_address INET NULL,
    user_agent VARCHAR(500) NULL,
    created_at TIMESTAMP NOT NULL DEFAULT NOW(),
    updated_at TIMESTAMP NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_token_expires ON password_reset_tokens(token, expires_at);
CREATE INDEX idx_user_created ON password_reset_tokens(user_id, created_at);
```

### Indexes

- **token + expires_at**: Fast lookup khi verify token
- **user_id + created_at**: Fast query ƒë·ªÉ l·∫•y tokens c·ªßa user

### Cleanup Strategy

Token t·ª± ƒë·ªông h·∫øt h·∫°n sau 30 ph√∫t. C√≥ th·ªÉ d√πng periodic task ƒë·ªÉ cleanup:

```python
# Management command ho·∫∑c Celery task
from apps.users.services.password_reset_service import PasswordResetService

service = PasswordResetService()
deleted_count = service.cleanup_expired_tokens()
```

---

## üìß Email Templates

### 1. Password Reset Email

**Template:** `apps/users/templates/emails/password_reset.html`

**Features:**
- ‚úÖ Responsive design (mobile + desktop)
- ‚úÖ Gradient header ƒë·∫πp m·∫Øt
- ‚úÖ N√∫t "ƒê·∫∑t l·∫°i m·∫≠t kh·∫©u" n·ªïi b·∫≠t
- ‚úÖ Th√¥ng b√°o th·ªùi gian h·∫øt h·∫°n
- ‚úÖ Alternative link (n·∫øu button kh√¥ng ho·∫°t ƒë·ªông)
- ‚úÖ Security notice
- ‚úÖ Professional footer

**Context Variables:**
```python
{
    'user': User object,
    'reset_url': 'http://localhost:3000/reset-password?token=xxx',
    'expiry_minutes': 30,
    'site_name': 'Operis',
    'support_email': 'noreply@operis.vn'
}
```

### 2. Password Changed Confirmation

**Template:** `apps/users/templates/emails/password_changed.html`

**Features:**
- ‚úÖ Success confirmation v·ªõi icon ‚úÖ
- ‚úÖ Security alert n·∫øu kh√¥ng ph·∫£i user th·ª±c hi·ªán
- ‚úÖ N√∫t "Li√™n h·ªá h·ªó tr·ª£"
- ‚úÖ Security tips
- ‚úÖ Professional design

**Context Variables:**
```python
{
    'user': User object,
    'site_name': 'Operis',
    'support_email': 'noreply@operis.vn'
}
```

---

## üîí B·∫£o m·∫≠t

### Token Security

1. **Secure Token Generation**
   ```python
   import secrets
   token = secrets.token_urlsafe(32)  # 256-bit entropy
   ```

2. **Token Expiration**: 30 ph√∫t (configurable)

3. **Single Use**: Token ch·ªâ d√πng ƒë∆∞·ª£c 1 l·∫ßn, sau ƒë√≥ mark as `used_at`

4. **Auto Invalidation**: Khi t·∫°o token m·ªõi, t·∫•t c·∫£ tokens c≈© b·ªã v√¥ hi·ªáu h√≥a

5. **Database Index**: Fast lookup v·ªõi indexed token field

### Email Security

1. **Generic Messages**: Kh√¥ng ti·∫øt l·ªô email c√≥ t·ªìn t·∫°i hay kh√¥ng
2. **Rate Limiting**: N√™n implement ƒë·ªÉ tr√°nh spam (TODO)
3. **IP & User Agent Logging**: Track ngu·ªìn g·ªëc request

### Password Requirements

```python
# Validation rules
- Minimum 8 characters
- At least 1 letter (A-Z, a-z)
- At least 1 number (0-9)
```

C√≥ th·ªÉ tƒÉng c∆∞·ªùng th√™m:
- K√Ω t·ª± ƒë·∫∑c bi·ªát
- Uppercase + lowercase
- Password strength meter

### Best Practices

‚úÖ **DO:**
- S·ª≠ d·ª•ng HTTPS trong production
- Set secure email config
- Log password reset attempts
- Implement rate limiting
- Monitor suspicious activities

‚ùå **DON'T:**
- Expose whether email exists
- Allow unlimited reset requests
- Store tokens in plain text (ƒë√£ hash UUID)
- Send passwords in email
- Use short token expiration

---

## üß™ Testing

### Manual Testing

#### 1. Test Forgot Password Flow

```bash
# 1. Request password reset
curl -X POST http://localhost:8000/api/password-reset/forgot-password \
  -H "Content-Type: application/json" \
  -d '{"email": "test@example.com"}'

# 2. Check email (console or inbox)
# Copy token from reset URL

# 3. Verify token
curl -X POST http://localhost:8000/api/password-reset/verify-reset-token \
  -H "Content-Type: application/json" \
  -d '{"token": "YOUR_TOKEN_HERE"}'

# 4. Reset password
curl -X POST http://localhost:8000/api/password-reset/reset-password \
  -H "Content-Type: application/json" \
  -d '{
    "token": "YOUR_TOKEN_HERE",
    "new_password": "NewPass123",
    "confirm_password": "NewPass123"
  }'
```

#### 2. Test Change Password Flow

```bash
# 1. Login to get token
curl -X POST http://localhost:8000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "email": "test@example.com",
    "password": "NewPass123"
  }'

# 2. Change password (with access_token)
curl -X POST http://localhost:8000/api/password-reset/change-password \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN" \
  -d '{
    "old_password": "NewPass123",
    "new_password": "NewPass456",
    "confirm_password": "NewPass456"
  }'
```

### Test Cases Checklist

- [ ] ‚úÖ Forgot password v·ªõi email t·ªìn t·∫°i
- [ ] ‚úÖ Forgot password v·ªõi email kh√¥ng t·ªìn t·∫°i (v·∫´n success)
- [ ] ‚úÖ Verify token h·ª£p l·ªá
- [ ] ‚úÖ Verify token ƒë√£ h·∫øt h·∫°n
- [ ] ‚úÖ Verify token ƒë√£ s·ª≠ d·ª•ng
- [ ] ‚úÖ Reset password th√†nh c√¥ng
- [ ] ‚úÖ Reset password v·ªõi m·∫≠t kh·∫©u y·∫øu (validation error)
- [ ] ‚úÖ Reset password v·ªõi confirm kh√¥ng kh·ªõp
- [ ] ‚úÖ Change password v·ªõi old password ƒë√∫ng
- [ ] ‚úÖ Change password v·ªõi old password sai
- [ ] ‚úÖ Email ƒë∆∞·ª£c g·ª≠i ƒë√∫ng template
- [ ] ‚úÖ Token b·ªã v√¥ hi·ªáu sau khi reset

---

## üîß Troubleshooting

### V·∫•n ƒë·ªÅ 1: Email kh√¥ng ƒë∆∞·ª£c g·ª≠i

**Tri·ªáu ch·ª©ng:** API success nh∆∞ng kh√¥ng nh·∫≠n ƒë∆∞·ª£c email

**Gi·∫£i ph√°p:**

1. Ki·ªÉm tra Gmail App Password:
   ```bash
   # Test SMTP connection
   python manage.py shell
   >>> from django.core.mail import send_mail
   >>> send_mail('Test', 'Body', 'from@gmail.com', ['to@email.com'])
   ```

2. Ki·ªÉm tra settings:
   ```python
   # In Django shell
   from django.conf import settings
   print(settings.EMAIL_HOST)
   print(settings.EMAIL_HOST_USER)
   print(settings.EMAIL_USE_TLS)
   ```

3. Check Gmail security:
   - 2-Step Verification enabled?
   - App Password correct?
   - Less secure app access (legacy)?

4. Check spam folder

### V·∫•n ƒë·ªÅ 2: Token kh√¥ng h·ª£p l·ªá

**Tri·ªáu ch·ª©ng:** "Invalid or expired reset token"

**Nguy√™n nh√¢n:**
- Token ƒë√£ h·∫øt h·∫°n (>30 ph√∫t)
- Token ƒë√£ ƒë∆∞·ª£c s·ª≠ d·ª•ng
- Token kh√¥ng t·ªìn t·∫°i trong database

**Gi·∫£i ph√°p:**
```python
# Check trong Django shell
from apps.users.models import PasswordResetToken
token_obj = PasswordResetToken.objects.get(token='YOUR_TOKEN')
print(f"Valid: {token_obj.is_valid()}")
print(f"Expired: {token_obj.is_expired}")
print(f"Used: {token_obj.is_used}")
print(f"Time remaining: {token_obj.time_remaining}")
```

### V·∫•n ƒë·ªÅ 3: Migration errors

**Tri·ªáu ch·ª©ng:** Migration fails

**Gi·∫£i ph√°p:**
```bash
# Create migration
python manage.py makemigrations users

# Check migration
python manage.py showmigrations users

# Apply migration
python manage.py migrate users

# If stuck, try:
python manage.py migrate users --fake-initial
```

### V·∫•n ƒë·ªÅ 4: Template not found

**Tri·ªáu ch·ª©ng:** "TemplateDoesNotExist: emails/password_reset.html"

**Gi·∫£i ph√°p:**

1. Ki·ªÉm tra TEMPLATES DIRS trong settings:
   ```python
   TEMPLATES[0]['DIRS'] = [BASE_DIR / 'apps' / 'users' / 'templates']
   ```

2. Ki·ªÉm tra file t·ªìn t·∫°i:
   ```bash
   ls -la backend/apps/users/templates/emails/
   ```

3. Service c√≥ fallback email n·∫øu template kh√¥ng t·ªìn t·∫°i

---

## üìù Changelog

### Version 1.0.0 (2025-01-21)

**Added:**
- ‚úÖ PasswordResetToken model
- ‚úÖ PasswordResetService v·ªõi ƒë·∫ßy ƒë·ªß logic
- ‚úÖ 4 API endpoints (forgot, verify, reset, change)
- ‚úÖ Pydantic schemas v·ªõi validation
- ‚úÖ Beautiful HTML email templates (responsive)
- ‚úÖ Gmail SMTP configuration
- ‚úÖ Security features (token expiry, single-use, etc.)
- ‚úÖ Comprehensive documentation

**Security:**
- ‚úÖ 256-bit secure token generation
- ‚úÖ Token expiration (30 minutes)
- ‚úÖ Single-use tokens
- ‚úÖ IP & User Agent logging
- ‚úÖ Password strength validation
- ‚úÖ Generic success messages (security)

---

## üéì T√†i li·ªáu tham kh·∫£o

- [Django Email Documentation](https://docs.djangoproject.com/en/5.0/topics/email/)
- [Gmail SMTP Settings](https://support.google.com/mail/answer/7126229)
- [Google App Passwords](https://support.google.com/accounts/answer/185833)
- [Django Password Validation](https://docs.djangoproject.com/en/5.0/topics/auth/passwords/)
- [Python Secrets Module](https://docs.python.org/3/library/secrets.html)

---

## üë• Support

N·∫øu g·∫∑p v·∫•n ƒë·ªÅ, li√™n h·ªá:

üìß Email: noreply@operis.vn
üì± Team: Operis Development Team
üìö Docs: `PASSWORD_RESET_README.md`

---

**¬© 2025 Operis. All rights reserved.**
